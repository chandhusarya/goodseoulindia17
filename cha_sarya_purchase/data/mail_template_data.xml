<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="email_template_cha_sarya_po_english" model="mail.template">
            <field name="name">Sarya Purchase Order: English</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="subject">UAE - {{ object.partner_id.name }} {{ object.date_approve_text }} Purchase Order</field>
            <field name="partner_to">{{ object.partner_id.id }}</field>
            <field name="body_html" type="html">
                <div style="margin: 0px; padding: 0px;">
                    <p style="margin: 0px; padding: 0px; font-size: 13px;">
                        Dear <t t-out="object.partner_id.name"/>,
                        <br/><br/>
                        Here is in attachment a purchase order <strong t-out="object.name"/> for <t t-out="object.date_approve_text"/> Purchase Order
                        <br/>
                        Please send PI against our <t t-out="object.name"/> within 3 days.
                        <br/>
                        If you have any questions or concern, please let me know.
                        <br/><br/>
                        Thank you
                    </p>
                </div>
            </field>
            <field name="report_template_ids" eval="[(4, ref('kg_sarya_purchase_order_report.purchase_order'))]"/>
            <field name="lang">{{ object.partner_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>
        

        <record id="email_template_cha_sarya_po_korean" model="mail.template">
            <field name="name">Sarya Purchase Order: Korean</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="subject">UAE - {{ object.partner_id.name }} {{ object.date_approve_text }} 발주서</field>
            <field name="partner_to">{{ object.partner_id.id }}</field>
            <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px;">
                <p style="margin: 0px; padding: 0px; font-size: 13px;">
                    안녕하세요
                    <br/><br/>
                    사르야 이정인 입니다.
                    <br/><br/>
                    <t t-out="object.date_approve_text"/> 발주서 <strong t-out="object.name"/> 보내드립니다.
                    <br/>
                    확인 부탁드리며 확인 후 Proforma Invoice 를 3일이내 보내주시길 바랍니다.
                    <br/>
                    다른 궁금하시거나 필요하신 사안 있으시면 언제든지 연락 부탁드립니다.
                    <br/><br/>
                    감사합니다.
                </p>
            </div>
            </field>
            <field name="report_template_ids" eval="[(4, ref('kg_sarya_purchase_order_report.purchase_order'))]"/>
            <field name="lang">{{ object.partner_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>


        <record id="email_template_vendor_document_request_english_new" model="mail.template">
            <field name="name">Vendor Document Request : English</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="subject">BL# {{ object.bl_number }} Shipping Documents Request</field>
           <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="email_from">jung@sarya.ae</field>
            <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px;">
                <p style="margin: 0px; padding: 0px; font-size: 13px;">
                    Dear <t t-out="object.partner_id.name or ''"></t>
                    <br/><br/>
                    We are requesting shipping documents for BL#<strong t-out="object.bl_number or ''"></strong>
                    <br/> <br/>
                    Please make sure to send below documents
                    <t t-foreach="object.partner_id.shipping_documents" t-as="shipping_doc">
                        <br/>
                        <t t-out="shipping_doc.name"/>
                    </t>
                    <br/><br/>
                    Thank you, Regards

                </p>
            </div>
            </field>
            <field name="lang">{{ object.partner_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>


        <record id="email_template_vendor_document_request_korean" model="mail.template">
            <field name="name">Vendor Document Request : Korean</field>
            <field name="model_id" ref="purchase.model_purchase_order"/>
            <field name="subject">BL# {{ object.bl_number }} 선적서류 요청</field>
           <field name="email_to">{{ object.partner_id.email }}</field>
            <field name="email_from">jung@sarya.ae</field>
            <field name="body_html" type="html">
            <div style="margin: 0px; padding: 0px;">
                <p style="margin: 0px; padding: 0px; font-size: 13px;">
                    안녕하세요.
                    <br/><br/>
                    사르야 입니다.
                    <br/><br/>
                    출항한 BL#<strong t-out="object.bl_number or ''"></strong> 의 선적서류 요청드립니다.
                    <br/> <br/>
                    아래서류들
                    <t t-foreach="object.partner_id.shipping_documents" t-as="shipping_doc">
                        <br/>
                        <t t-out="shipping_doc.name"/>
                    </t>
                    <br/><br/>
                    전달 부탁드립니다.
                    <br/>
                    감사합니다

                </p>
            </div>
            </field>
            <field name="lang">{{ object.partner_id.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>



        <!-- GRN Pending Notification Email Template -->
        <record id="email_template_grn_pending" model="mail.template">
            <field name="name">GRN Pending Notification</field>
            <field name="model_id" ref="cha_sarya_purchase.model_local_purchase"/>
            <field name="email_from">{{ (user.email_formatted or object.company_id.email_formatted or 'noreply@yourdomain.com') }}</field>
            <field name="email_to">
                {{ ','.join([u.user_id.email for u in object.pos_id.sudo().advanced_employee_ids if u.user_id.email]) }}
            </field>
            <field name="subject">⚠️ GRN Pending Alert - {{ object.name or 'N/A' }}</field>
            <field name="description">Notifies users if GRN is pending more than 5 days after confirmation.</field>
            <field name="body_html" type="html">
                <div style="margin: 0; padding: 0; font-size: 14px; font-family: 'Segoe UI', Tahoma, sans-serif;">
                    <p>
                        Dear <t t-out="', '.join([u.name for u in object.pos_id.sudo().advanced_employee_ids])">User</t>,
                    </p>

                    <p>
                        The following purchase record has been pending for GRN confirmation for more than
                        <b>5 days</b>:
                    </p>

                    <ul style="line-height: 1.6;">
                        <li><b>Purchase:</b> <t t-out="object.name or ''">PO001</t></li>
                        <li><b>Confirm Date:</b> <t t-if="object.confirm_date" t-out="object.confirm_date.strftime('%d %B %Y')">2025-10-10</t></li>
                        <li><b>POS:</b> <t t-out="object.pos_id.display_name or ''">Bandra QSR</t></li>
                        <li><b>GRN Pending:</b> <t t-out="'Yes' if object.grn_pending else 'No'">Yes</t></li>
                    </ul>

                    <p>
                        Please review and process the GRN at the earliest.
                    </p>

                    <br/>
                    <p>
                        Regards,<br/>
                        <t t-out="object.company_id.name or 'Your Company'">YourCompany</t>
                    </p>

                    <hr style="border: 0; border-top: 1px solid #ccc; margin-top: 20px;"/>
                    <p style="color: #888; font-size: 12px;">
                        This is an automated message from the GRN Monitoring System. Please do not reply directly.
                    </p>
                </div>
            </field>
            <field name="lang">{{ user.lang }}</field>
            <field name="auto_delete" eval="True"/>
        </record>




    </data>
</odoo>
